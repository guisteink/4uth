[{"/home/guilherme.stein/Desktop/New Folder/4uth/src/controllers/user.controller.ts":"1","/home/guilherme.stein/Desktop/New Folder/4uth/src/index.ts":"2","/home/guilherme.stein/Desktop/New Folder/4uth/src/middlewares/auth.ts":"3","/home/guilherme.stein/Desktop/New Folder/4uth/src/models/enums/user.roles.ts":"4","/home/guilherme.stein/Desktop/New Folder/4uth/src/models/enums/user.status.ts":"5","/home/guilherme.stein/Desktop/New Folder/4uth/src/models/interfaces/user.d.ts":"6","/home/guilherme.stein/Desktop/New Folder/4uth/src/models/user.ts":"7","/home/guilherme.stein/Desktop/New Folder/4uth/src/types/express/index.d.ts":"8","/home/guilherme.stein/Desktop/New Folder/4uth/src/controllers/auth.controller.ts":"9","/home/guilherme.stein/Desktop/New Folder/4uth/src/models/interfaces/jwt-payload.ts":"10","/home/guilherme.stein/Desktop/New Folder/4uth/src/rest/routes/index.ts":"11","/home/guilherme.stein/Desktop/New Folder/4uth/src/rest/routes/v1/auth/user.ts":"12","/home/guilherme.stein/Desktop/New Folder/4uth/src/rest/routes/v1/index.ts":"13","/home/guilherme.stein/Desktop/New Folder/4uth/src/rest/routes/v1/user.ts":"14"},{"size":327,"mtime":1677895807627,"results":"15","hashOfConfig":"16"},{"size":227,"mtime":1677807108544,"results":"17","hashOfConfig":"16"},{"size":1046,"mtime":1677894042364,"results":"18","hashOfConfig":"16"},{"size":101,"mtime":1677763691799,"results":"19","hashOfConfig":"16"},{"size":73,"mtime":1677763680247,"results":"20","hashOfConfig":"16"},{"size":346,"mtime":1677894483406,"results":"21","hashOfConfig":"16"},{"size":1248,"mtime":1677894591554,"results":"22","hashOfConfig":"16"},{"size":109,"mtime":1677890847494,"results":"23","hashOfConfig":"16"},{"size":822,"mtime":1677895832456,"results":"24","hashOfConfig":"16"},{"size":143,"mtime":1677894571670,"results":"25","hashOfConfig":"16"},{"size":136,"mtime":1677895150452,"results":"26","hashOfConfig":"16"},{"size":36,"mtime":1677895277245,"results":"27","hashOfConfig":"16"},{"size":104,"mtime":1677895243021,"results":"28","hashOfConfig":"16"},{"size":549,"mtime":1677895716193,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","suppressedMessages":"32","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1htw4gp",{"filePath":"33","messages":"34","suppressedMessages":"35","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"36","messages":"37","suppressedMessages":"38","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"39","messages":"40","suppressedMessages":"41","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","suppressedMessages":"44","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"45","messages":"46","suppressedMessages":"47","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","suppressedMessages":"50","errorCount":3,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":3,"fixableWarningCount":0,"source":"51"},{"filePath":"52","messages":"53","suppressedMessages":"54","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"58","messages":"59","suppressedMessages":"60","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"61","messages":"62","suppressedMessages":"63","errorCount":1,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"64"},{"filePath":"65","messages":"66","suppressedMessages":"67","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","suppressedMessages":"70","errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"source":"71"},{"filePath":"72","messages":"73","suppressedMessages":"74","errorCount":4,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":2,"fixableWarningCount":0,"source":"75"},"/home/guilherme.stein/Desktop/New Folder/4uth/src/controllers/user.controller.ts",[],[],"/home/guilherme.stein/Desktop/New Folder/4uth/src/index.ts",[],[],"/home/guilherme.stein/Desktop/New Folder/4uth/src/middlewares/auth.ts",[],[],"/home/guilherme.stein/Desktop/New Folder/4uth/src/models/enums/user.roles.ts",[],[],"/home/guilherme.stein/Desktop/New Folder/4uth/src/models/enums/user.status.ts",[],[],"/home/guilherme.stein/Desktop/New Folder/4uth/src/models/interfaces/user.d.ts",[],[],"/home/guilherme.stein/Desktop/New Folder/4uth/src/models/user.ts",["76","77","78"],[],"const bcrypt = require(\"bcryptjs\");\nconst { Schema } = require(\"mongoose\");\n\nconst mongo = require(\"../../config/database\");\nconst userStatus = require(\"./enums/user.status\");\nconst userRoles = require(\"./enums/user.roles\");\n\nconst schema: typeof Schema = mongo.Schema;\n\nconst UserSchema: typeof Schema = new schema({\n  username: {\n    type: String,\n    required: true,\n    lowercase: true,\n  },\n  password: {\n    type: String,\n    required: true,\n    selected: false,\n  },\n  role: {\n    type: String,\n    enum: userRoles,\n    default: userRoles[0],\n  },\n  status: {\n    type: String,\n    enum: userStatus,\n    default: userStatus[0],\n  },\n  email: { type: String },\n  zipcode: { type: Number },\n  phone: { type: Number },\n  dob: {\n    type: Object,\n    data: { type: Date },\n    age: { type: Number },\n  }\n}, { timestamp: true });\n\nUserSchema.pre(\"save\", async function (this: typeof Schema,next: () => void) {\n  const hash = await bcrypt.hash(this.password, 10);\n  this.password = hash;\n\n  const birth = Math.round((new Date().getTime() - new Date(this.dob.date).getTime()) / (31536000000))\n  this.dob.age = birth;\n  const now = new Date(Date.now())\n  this.registered.data = now;\n\n  next();\n});\n\nmodule.exports = mongo.model(\"User\", UserSchema);\n","/home/guilherme.stein/Desktop/New Folder/4uth/src/types/express/index.d.ts",[],[],"/home/guilherme.stein/Desktop/New Folder/4uth/src/controllers/auth.controller.ts",["79"],[],"/home/guilherme.stein/Desktop/New Folder/4uth/src/models/interfaces/jwt-payload.ts",[],[],"/home/guilherme.stein/Desktop/New Folder/4uth/src/rest/routes/index.ts",["80"],[],"const { Router } = require(\"express\");\nconst { router } = require(\"./v1\");\n\nexport const router = Router();\n\nrouter.use(\"/v1\", router);\n","/home/guilherme.stein/Desktop/New Folder/4uth/src/rest/routes/v1/auth/user.ts",[],[],"/home/guilherme.stein/Desktop/New Folder/4uth/src/rest/routes/v1/index.ts",["81","82","83","84"],[],"const { Router } = require(\"express\");\nconst { isAuthenticate } = require(\"../../../middlewares/auth\");\n","/home/guilherme.stein/Desktop/New Folder/4uth/src/rest/routes/v1/user.ts",["85","86","87","88"],[],"// create\nconst { Router } = require(\"express\");\nconst { Request, Response, NextFunction } = require(\"express\");\n\nconst userCtrl = require(\"../../../controllers/user.controller\");\n\nexport const router = Router();\n\nrouter\n  .route(\"/\")\n  .post(async (req: typeof Request, res: typeof Response, next: typeof NextFunction) => {\n    console.info(\"Creating a new user\");\n\n    const data = req.body ?? {};\n    const user = await userCtrl.create(data);\n\n    if(!user) res.status(400).json({ message: \"Bad request\" })\n    res.status(201).json(user);\n\n  });\n",{"ruleId":"89","severity":2,"message":"90","line":38,"column":4,"nodeType":"91","messageId":"92","endLine":39,"endColumn":1,"fix":"93"},{"ruleId":"94","severity":2,"message":"95","line":45,"column":103,"nodeType":"96","messageId":"97","endLine":46,"endColumn":1,"fix":"98"},{"ruleId":"94","severity":2,"message":"95","line":47,"column":35,"nodeType":"96","messageId":"97","endLine":48,"endColumn":1,"fix":"99"},{"ruleId":"100","severity":2,"message":"101","line":21,"column":18,"nodeType":"102","messageId":"103","endLine":21,"endColumn":26},{"ruleId":"104","severity":2,"message":"105","line":4,"column":14,"nodeType":"102","messageId":"106","endLine":4,"endColumn":20},{"ruleId":"107","severity":2,"message":"108","line":1,"column":9,"nodeType":"102","messageId":"109","endLine":1,"endColumn":15},{"ruleId":"110","severity":2,"message":"108","line":1,"column":9,"nodeType":"102","messageId":"109","endLine":1,"endColumn":15},{"ruleId":"107","severity":2,"message":"111","line":2,"column":9,"nodeType":"102","messageId":"109","endLine":2,"endColumn":23},{"ruleId":"110","severity":2,"message":"111","line":2,"column":9,"nodeType":"102","messageId":"109","endLine":2,"endColumn":23},{"ruleId":"107","severity":2,"message":"112","line":11,"column":59,"nodeType":"102","messageId":"109","endLine":11,"endColumn":84},{"ruleId":"110","severity":2,"message":"112","line":11,"column":59,"nodeType":"102","messageId":"109","endLine":11,"endColumn":84},{"ruleId":"113","severity":2,"message":"114","line":17,"column":5,"nodeType":null,"messageId":"115","endLine":17,"endColumn":7,"fix":"116"},{"ruleId":"94","severity":2,"message":"95","line":17,"column":63,"nodeType":"117","messageId":"97","endLine":18,"endColumn":1,"fix":"118"},"@typescript-eslint/comma-dangle","Missing trailing comma.","Property","missing",{"range":"119","text":"120"},"semi","Missing semicolon.","VariableDeclaration","missingSemi",{"range":"121","text":"122"},{"range":"123","text":"122"},"@typescript-eslint/no-shadow","'username' is already declared in the upper scope on line 6 column 29.","Identifier","noShadow","no-redeclare","'router' is already defined.","redeclared","@typescript-eslint/no-unused-vars","'Router' is assigned a value but never used.","unusedVar","no-unused-vars","'isAuthenticate' is assigned a value but never used.","'next' is defined but never used.","keyword-spacing","Expected space(s) after \"if\".","expectedAfter",{"range":"124","text":"125"},"ExpressionStatement",{"range":"126","text":"122"},[805,808],"},\n}",[1092,1092],";",[1151,1151],[453,453]," ",[509,509]]